<img src="https://latex.codecogs.com/gif.latex?">

## Introduction
A leaked artifact set "Echoes of an Offering" has an interesting effect which increases damage dynamically. Its set bonus is as follows:

>When *Normal Attacks* hit opponents, there is a 36% chance that it will trigger Valley Rite, which will increase *Normal Attack DMG* by 60% of *ATK*. This effect will be dispelled 0.05s after a *Normal Attack* deals *DMG*. If a *Normal Attack* fails to trigger Valley Rite, the odds of it triggering the next time will increase by 20%. This trigger can occur once every 0.3s.

In this analysis, there's two problems we need to figure out:

1. What is the average chance to trigger Valley Rite <img src="https://latex.codecogs.com/gif.latex?\left(x\right)">? 
3. How many of your hits on average is affected by the *Normal Attack DMG* increase <img src="https://latex.codecogs.com/gif.latex?\left(y\right)">?

## Markov chain analysis

To find <img src="https://latex.codecogs.com/gif.latex?x">, we have to construct a transition matrix <img src="https://latex.codecogs.com/gif.latex?P_1"> of the trigger chance system, then find the first element of some vector, <img src="https://latex.codecogs.com/gif.latex?\pi">, such that <img src="https://latex.codecogs.com/gif.latex?\pi%20P_1=\pi">:

<img src="https://latex.codecogs.com/gif.latex?P_1=\begin{bmatrix}0.36&0.64&0&0&0\\0.56&0&0.44&0&0\\0.76&0&0&0.24&0\\0.96&0&0&0&0.04\\1&0&0&0&0\end{bmatrix}">

Find some vector, <img src="https://latex.codecogs.com/gif.latex?\pi">, such that <img src="https://latex.codecogs.com/gif.latex?\pi%20P_1=\pi">.

<img src="https://latex.codecogs.com/gif.latex?\left[\pi_1,\pi_2,\pi_3,\pi_4,\pi_5\right]\begin{bmatrix}0.36&0.64&0&0&0\\0.56&0&0.44&0&0\\0.76&0&0&0.24&0\\0.96&0&0&0&0.04\\1&0&0&0&0\end{bmatrix}=\pi">

And we get the following system of equations:

<img src="data:image/png;base64,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"=>

After solving the system of equations, we finally get our stationary distribution:

$π=\left[\frac{390625}{778081},\frac{250000}{778081},\frac{110000}{778081},\frac{26400}{778081},\frac{1056}{778081}\right]$

Since $x$ is equivalent to $π_1$, we have solved the first problem:

$x=π_1=\frac{390625}{778081}\approx50.20\%$

To find $y$, repeat the method above and arrive at the second element of some vector, $ψ$.

$\begin{align}P_2&=\begin{bmatrix}1-x&x\\1&0\end{bmatrix}\newline\newlineψP_2&=ψ\newline\left[ψ_1,ψ_2\right]\begin{bmatrix}1-x&x\\1&0\end{bmatrix}&=ψ\newline\newline\left(1-x\right)ψ_1+ψ_2&=ψ_1\newline xψ_1&=ψ_2\newline\newlineψ&=\left[\frac{778081}{1168706},\frac{390625}{1168706}\right]\end{align}$

We have solved the second problem:

$y=ψ_2=\frac{390625}{1168706}\approx33.42\%$

## Findings

1. The average chance to trigger Valley Rite is roughly $50.20\%$.
2. The average number of hits that have the *Normal Attack DMG* increase is roughly $33.42\%$.

## References

1. [Markov Chains: Stationary Distributions](https://www.stat.berkeley.edu/~mgoldman/Section0220.pdf)
2. [Chapter 8: Markov Chains](https://www.stat.auckland.ac.nz/~fewster/325/notes/ch8.pdf)
3. [Echoes of an Offering](https://genshin.honeyhunterworld.com/db/art/a_15024/?lang=EN)
